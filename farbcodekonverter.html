<!DOCTYPE html>
<html lang="de">
<head>
    <title>Lotgd Farbkonvertierungstool</title>
    <style type="text/css">
        form {
            display: flex;
            justify-content: center;
            align-items: center;
            align-content: space-between;
            flex-direction: column;
        }

        textarea {
            min-width: 30vw;
            min-height: 40vw;
        }
    </style>
</head>
<body>

<form onsubmit="onSubmit(event)" oninput="onInput(event)">
    <span>
        Eingabe (bitte mit Enter trennen)
    </span>

    <textarea name="code_input"></textarea>


    <input type="submit" value="Konvertiere Codes">

    <span>
        Ausgabe
    </span>

    <textarea name="ausgabe_textarea" id="ausgabe_textarea"></textarea>

    <ul id="unordered_list"></ul>

    <span>
        Made with HTML, CSS, JS & ‚ù§
    </span>
</form>

<script>
    function onSubmit(event) {
        event.preventDefault();
        handleInput(event.target["code_input"].value)
    }

    function onInput(event) {
        event.preventDefault();
        handleInput(event.target.value)
    }

    function handleInput(input) {
        let result = "";
        let li_string = "";
        input.split(/\r?\n|\r|\n/g).forEach(value => {
            if (value) {
                const formatted = "[" + value + "]\r\n";
                result += formatted;
                li_string += "<li style='color: " + value + "'>" + formatted + "</li>";
            }
        })
        document.getElementById("ausgabe_textarea").value = result;
        document.getElementById("unordered_list").innerHTML = li_string;
    }
</script>

</body>
</html>
